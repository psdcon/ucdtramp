ErrorDocument 404 http://www.ucdtramp.com/page/404

RewriteEngine on
# Remove a trailing slash
RewriteRule ^(.*)/$ /$1 [L,R=301]

##### tt.ucdtramp redirects #####

RewriteCond %{HTTP_HOST} ^tt\.ucdtramp\.com$ [OR]
RewriteCond %{HTTP_HOST} ^www\.tt\.ucdtramp\.com$
RewriteRule ^/?$ "http\:\/\/www\.ucdtramp\.com\/tt" [R=301,L]

###########################################################

RewriteRule ^page/([A-Za-z0-9-]+)$ page.php?name=$1 [NC]

RewriteRule ^forum/([^/.]+)$ forum.php?forum=$1 [NC]
RewriteRule ^forum/([^/.]+)/([^/.]+)$ forum.php?forum=$1&delete=$2 [NC]

RewriteRule ^gallery/([^/.]+)$ gallery.php?eventname=$1 [NC]
RewriteRule ^gallery/([^/.]+)/([^/.]+)$ gallery.php?eventname=$1&image=$2 [NC]

RewriteRule ^poll/([^/.]+)$ manage_polls.php?poll=$1 [NC]

RewriteCond %{SCRIPT_FILENAME} !-d
RewriteCond %{SCRIPT_FILENAME} !-f
RewriteRule ^([^\.]+)/?$ $1.php [NC,L]

#Replaces charset from head meta tag. Told to do this by google pageSpeed
AddDefaultCharset UTF-8

#### Caching ####
<ifModule mod_expires.c>
ExpiresActive On
# Set default expire to 1 month
ExpiresDefault A2592000 
 
# Expires after 1 month
#ExpiresByType image/gif A2592000
#ExpiresByType image/png A2592000
#ExpiresByType image/jpg A2592000
#ExpiresByType image/x-icon A2592000
#ExpiresByType application/pdf A2592000
#ExpiresByType application/x-javascript A2592000
 
# Expires after 1 day 
#ExpiresByType text/css A86400

# Expires after 1 sec
ExpiresByType text/html A1
</ifModule>

### Compressing content ###
# compress text, html, javascript, css, xml:
AddOutputFilterByType DEFLATE text/plain
AddOutputFilterByType DEFLATE text/html
AddOutputFilterByType DEFLATE text/xml
AddOutputFilterByType DEFLATE text/css
AddOutputFilterByType DEFLATE application/xml
AddOutputFilterByType DEFLATE application/xhtml+xml
AddOutputFilterByType DEFLATE application/rss+xml
AddOutputFilterByType DEFLATE application/javascript
AddOutputFilterByType DEFLATE application/x-javascript

# Or, compress certain file types by extension:
<files *.html>
SetOutputFilter DEFLATE
</files>